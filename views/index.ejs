<% include header %>

<div ng-controller="LobbyCtrl" ng-cloak>

  <div class="gameRoomContainer">
    <table class="table table-striped table-hover gameRoomlist">
      <thead>
        <tr>
          <th>#</th>
          <th>Room name</th>
          <th>Number of players</th>
          <th>Player names</th>
        </tr>
      </thead>
      <tbody>
        <tr class="gameRoomListItem" ng-repeat="gameRoom in gameRoomList">
          <th scope="row">{{gameRoom.id}}</th>
          <td><a href="#" ng-click="joinRoom(gameRoom.id)">{{gameRoom.name}}</a></td>
          <td>{{gameRoom.players.length}}</td>
          <td>
            <span ng-if="gameRoom.players.length" class="playerName" ng-repeat="player in gameRoom.players">
              {{player.name}}<span ng-if="!$last">, </span>
            </span>
            <span ng-if="!gameRoom.players.length">
              Room is empty
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Form for creating new game room  -->
 <!--  <div class="navbar navbar-inverse navbar-fixed-bottom" >
    <div class="col-lg-12">
      <form class="formGameRoom">
        <div class="col-lg-4 col-md-3">
          <input type="text" ng-model="newGameRoomName" class="form-control">
        </div>
        <input type="checkbox" ng-model="joinRoomAtCreate">
        <button class="btn btn-default col-lg-2 col-md-2" ng-click="createNewGameRoom()">Send</button>  
      </form>
      
    </div>
  </div> -->

</div>
